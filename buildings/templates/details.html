{% extends 'base.html' %} {% load staticfiles %} {% load filter %} {% block content %} {% include 'banner.html' %}
<!-- /.rh_banner -->
{% include 'searchSidebar.html' %}

<section class="rh_section rh_wrap--padding rh_wrap--topPadding">


    <div class="rh_page rh_page--fullWidth">


        <div class="rh_page__head rh_page__property">

            <div class="rh_page__property_title">

                <h1 class="rh_page__title">
                    {{house.title}} </h1>
                <!-- /.rh_page__title -->

            </div>
            <!-- /.rh_page__property_title -->

            <div class="rh_page__property_price">
                <p class="status">
                    For Sale </p>
                <!-- /.status -->
                <p class="price">
                    $ {{house.price|price}} </p>
                <!-- /.price -->
            </div>
            <!-- /.rh_page__property_price -->

        </div>
        <!-- /.rh_page__head -->

        <div class="rh_property">
            <div id="property-detail-flexslider" class="clearfix">
                <div class="flexslider">
                    <ul class="slides">
                        {% for item in imagehouse %}
                        <li><a href="{{ item.image_url.url }}" class="swipebox" rel="gallery_real_homes"><img
                                src="{{ item.image_url.url }}" alt="property-02-exterior"/></a></li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div id="property-featured-image" class="clearfix only-for-print">
                <img src="{{house.image_url.url}}" alt="Villa in Coral Gables" /></div>

            <div class="rh_property__wrap rh_property--padding">
                <div class="rh_property__main">

                    <div class="rh_property__content">

                        <div class="rh_property__row rh_property__meta rh_property--borderBottom">

                            <div class="rh_property__id">
                                <p class="title">Property ID :</p>
                                <!-- /.title -->
                                <p class="id">{{house.id}}</p>
                                <!-- /.id -->
                            </div>
                            <!-- /.rh_property__id -->

                            <div class="rh_property__print">
                                <div id="share-button-title" class="hide">Share</div>
                                <div class="share-this"></div>

                                 {% include 'add-to-favorite.html' with house=house %} 

                                <a href="javascript:window.print()" class="print">
                                    <svg height="24px" version="1.1" viewBox="0 0 16 16" width="24px"
                                         xmlns="http://www.w3.org/2000/svg"
                                         xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"
                                         xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <title/>
                                        <defs/>
                                        <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                            <g fill="#000000" transform="translate(-672.000000, -48.000000)">
                                                <path d="M672,54 C672,53 673,52 674,52 L675,52 L675,54 L675,55 L685,55 L685,54 L685,52 L686,52 C687,52 688,53 688,54 L688,59 C688,60 687,61 686,61 L685,61 L685,59 L685,58 L675,58 L675,59 L675,61 L674,61 C673,61 672,60 672,59 L672,54 L672,54 Z M676,61 L676,59 L684,59 L684,61 L684,64 L676,64 L676,61 L676,61 Z M684,52 L684,54 L676,54 L676,52 L676,49 L684,49 L684,52 L684,52 Z M677,60 L677,61 L683,61 L683,60 L677,60 L677,60 Z M677,62 L677,63 L683,63 L683,62 L677,62 L677,62 Z M677,62"/>
                                            </g>
                                        </g>
                                    </svg>
                                    <span class="rh_tooltip">
					<p class="label">
						Print					</p>
				</span>
                                </a>
                            </div>
                            <!-- /.rh_property__print -->

                        </div>
                        <!-- /.rh_property__wrap -->


                        <div class="rh_property__row rh_property__meta_wrap">

                            <div class="rh_property__meta">
                                <h4>Bedrooms</h4>
                                <div>
                                    <svg class="rh_svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <defs>
                                        </defs>
                                        <path d="M1111.91,600.993h16.17a2.635,2.635,0,0,1,2.68,1.773l1.21,11.358a2.456,2.456,0,0,1-2.61,2.875h-18.73a2.46,2.46,0,0,1-2.61-2.875l1.21-11.358A2.635,2.635,0,0,1,1111.91,600.993Zm0.66-7.994h3.86c1.09,0,2.57.135,2.57,1l0.01,3.463c0.14,0.838-1.72,1.539-2.93,1.539h-4.17c-1.21,0-2.07-.7-1.92-1.539l0.37-3.139A2.146,2.146,0,0,1,1112.57,593Zm11,0h3.86a2.123,2.123,0,0,1,2.2,1.325l0.38,3.139c0.14,0.838-.72,1.539-1.93,1.539h-5.17c-1.21,0-2.07-.7-1.92-1.539L1121,594C1121,593.1,1122.48,593,1123.57,593Z"
                                              transform="translate(-1108 -593)"/>
                                    </svg>
                                    <span class="figure">{{house.bedrooms}}</span>
                                </div>
                            </div>
                            <!-- /.rh_property__meta -->

                            <div class="rh_property__meta">
                                <h4>Bathrooms</h4>
                                <div>
                                    <svg class="rh_svg" xmlns="http://www.w3.org/2000/svg" width="23.69" height="24" viewBox="0 0 23.69 24">
                                        <path d="M1204,601a8,8,0,0,1,16,0v16h-2V601a6,6,0,0,0-12,0v1h-2v-1Zm7,6a6,6,0,0,0-12,0h12Zm-6,2a1,1,0,0,1,1,1v1a1,1,0,0,1-2,0v-1A1,1,0,0,1,1205,609Zm0,5a1,1,0,0,1,1,1v1a1,1,0,0,1-2,0v-1A1,1,0,0,1,1205,614Zm4.94-5.343a1,1,0,0,1,1.28.6l0.69,0.878a1,1,0,0,1-1.88.685l-0.69-.879A1,1,0,0,1,1209.94,608.657Zm2.05,4.638a1,1,0,0,1,1.28.6l0.35,0.94a1.008,1.008,0,0,1-.6,1.282,1,1,0,0,1-1.28-.6l-0.35-.939A1.008,1.008,0,0,1,1211.99,613.295Zm-11.93-4.638a1,1,0,0,1,.6,1.282l-0.69.879a1,1,0,1,1-1.87-.682l0.68-.88A1,1,0,0,1,1200.06,608.657Zm-2.05,4.639a1,1,0,0,1,.6,1.281l-0.34.941a1,1,0,0,1-1.88-.683l0.34-.94A1,1,0,0,1,1198.01,613.3Z"
                                              transform="translate(-1196.31 -593)"/>
                                    </svg>
                                    <span class="figure">{{house.bathrooms}}</span>
                                </div>
                            </div>
                            <!-- /.rh_property__meta -->

                            <div class="rh_property__meta">
                                <h4>Garage</h4>
                                <div>
                                    <svg class="rh_svg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<g>
	<path d="M16.277,11H7.722c-0.513,0-0.941,0.315-1.104,0.757L5,16.25v6C5,22.662,5.351,23,5.778,23h0.778
		c0.427,0,0.778-0.338,0.778-0.75V21.5h9.333v0.75c0,0.412,0.35,0.75,0.777,0.75h0.778C18.649,23,19,22.662,19,22.25v-6
		l-1.618-4.493C17.228,11.315,16.791,11,16.277,11z M7.875,19.25c-0.623,0-1.125-0.502-1.125-1.125S7.252,17,7.875,17
		S9,17.502,9,18.125S8.498,19.25,7.875,19.25z M16.125,19.25c-0.623,0-1.125-0.502-1.125-1.125S15.502,17,16.125,17
		s1.125,0.502,1.125,1.125S16.748,19.25,16.125,19.25z M6.556,15.5l1.167-3.375h8.555l1.167,3.375H6.556z"/>
	<path d="M23,0h-1h-2H4H2H1C0.448,0,0,0.448,0,1v1c0,0.552,0.448,1,1,1h1v21h2V3h16v21h2V3h1c0.553,0,1-0.448,1-1V1
		C24,0.448,23.553,0,23,0z"/>
	<path d="M18,4H6C5.448,4,5,4.448,5,5s0.448,1,1,1h12c0.553,0,1-0.448,1-1S18.553,4,18,4z"/>
	<path d="M18,7H6C5.448,7,5,7.448,5,8s0.448,1,1,1h12c0.553,0,1-0.448,1-1S18.553,7,18,7z"/>
</g>
</svg>
                                    <span class="figure">
					2				</span>
                                </div>
                            </div>
                            <!-- /.rh_property__meta -->

                            <div class="rh_property__meta">
                                <h4>Area</h4>
                                <div>
                                    <svg class="rh_svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<g>
	<circle cx="2" cy="2" r="2"/>
</g>
<g>
	<circle cx="2" cy="22" r="2"/>
</g>
<g>
	<circle cx="22" cy="2" r="2"/>
</g>
<rect x="1" y="1" width="2" height="22"/>
<rect x="1" y="1" width="22" height="2"/>
<path opacity="0.5" d="M23,20.277V1h-2v19.277C20.7,20.452,20.452,20.7,20.277,21H1v2h19.277c0.347,0.596,0.984,1,1.723,1
	c1.104,0,2-0.896,2-2C24,21.262,23.596,20.624,23,20.277z"/>
</svg>
                                    <span class="figure">
					{{house.area}}			</span>
                                </div>
                            </div>
                            <!-- /.rh_property__meta -->

                            <div class="rh_property__meta">
                                <h4>Year Built</h4>
                                <div>
                                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<g class="rh_svg">
	<path d="M20,2h-1V1c0-0.552-0.447-1-1-1s-1,0.448-1,1v1H7V1c0-0.552-0.447-1-1-1S5,0.448,5,1v1H4C1.794,2,0,3.794,0,6v14
		c0,2.206,1.794,4,4,4h16c2.206,0,4-1.794,4-4V6C24,3.794,22.206,2,20,2z M22,20c0,1.104-0.896,2-2,2H4c-1.104,0-2-0.896-2-2V6
		c0-1.104,0.896-2,2-2h1v1c0,0.552,0.447,1,1,1s1-0.448,1-1V4h10v1c0,0.552,0.447,1,1,1s1-0.448,1-1V4h1c1.104,0,2,0.896,2,2V20z"/>
	<circle cx="6" cy="12" r="2"/>
	<circle cx="18" cy="12" r="2"/>
	<circle cx="12" cy="12" r="2"/>
	<circle cx="6" cy="18" r="2"/>
	<circle cx="18" cy="18" r="2"/>
	<circle cx="12" cy="18" r="2"/>
</g>
</svg>
                                    <span class="figure">
					{{housedetails.year_built}}				</span>
                                </div>
                            </div>
                            <!-- /.rh_property__meta -->


                        </div>
                        <!-- /.rh_property__row rh_property__meta -->

                        <h4 class="rh_property__heading">Description</h4>
                        <!-- /.rh_property__heading -->

                        <div class="rh_content">
                            <p>{{house.discription}}</p>
                        </div>
                        <!-- /.rh_content -->

                        <h4 class="rh_property__heading rh_property__additional_details">Additional Details</h4>
                        <ul class="rh_property__additional clearfix">
                            <li>
                                <span class="title">Built In:</span>
                                <span class="value">2003</span>
                            </li>
                            <li>
                                <span class="title">Waterfront:</span>
                                <span class="value">Yes</span>
                            </li>
                            <li>
                                <span class="title">Flooring:</span>
                                <span class="value">Ceramic Floor,Other</span>
                            </li>
                            <li>
                                <span class="title">Waterfront Description::</span>
                                <span class="value">Intracoastal Front,Ocean Access</span>
                            </li>
                            <li>
                                <span class="title">View:</span>
                                <span class="value">Intracoastal View,Direct Ocean,Ocean View</span>
                            </li>
                            <li>
                                <span class="title">Pets:</span>
                                <span class="value">Allowed</span>
                            </li>
                            <li>
                                <span class="title">Parking:</span>
                                <span class="value">2 Or More Spaces,Covered Parking,Valet Parking</span>
                            </li>
                        </ul>
                        <div class="rh_property__features_wrap">
                            <h4 class="rh_property__heading">Features</h4>
                            <ul class="rh_property__features arrow-bullet-list">
                                <li class="rh_property__feature" id="rh_property__feature_17"><a href="../../property-feature/2-stories/index.html">2 Stories</a></li>
                                <li class="rh_property__feature" id="rh_property__feature_19"><a href="../../property-feature/bike-path/index.html">Bike Path</a></li>
                                <li class="rh_property__feature" id="rh_property__feature_20"><a href="../../property-feature/central-cooling/index.html">Central Cooling</a>
                                </li>
                                <li class="rh_property__feature" id="rh_property__feature_32"><a href="../../property-feature/jog-path/index.html">Jog Path</a></li>
                                <li class="rh_property__feature" id="rh_property__feature_34"><a href="../../property-feature/lawn/index.html">Lawn</a></li>
                                <li class="rh_property__feature" id="rh_property__feature_43"><a href="../../property-feature/swimming-pool/index.html">Swimming Pool</a></li>
                            </ul>
                        </div>

                        <div class="rh_property__video">
                            <h4 class="rh_property__heading">Property Video</h4>
                            <a href="{{housedetails.video}}" class="pretty-photo">
                                <div class="play-btn"></div>
                                <img src="{{house.image_url.url}}" alt="Villa in Coral Gables"> </a>
                        </div>
                        <div class="rh_property__map_wrap">
                            <h4 class="rh_property__heading">Property on Map</h4>
                            <div id="property_map"></div>
                            <script>
                                /* Property Detail Page - Google Map for Property Location */

                                function initialize_property_map() {

                                    var propertyMarkerInfo = {
                                        "title": "{{house.title}}",
                                        "price": " $ {{house.price|price}}",
                                        "lat": "{{house.houselocation.location.y}}",
                                        "lang": "{{house.houselocation.location.x}}",
                                        "thumb": "{{house.image_url.url}}",
                                        "icon": "{% static 'img/map/single-family-home-map-icon.png' %}",
                                        "retinaIcon": "http:\/\/realhomes-modern.inspirythemes.biz\/wp-content\/themes\/realhomes\/assets\/modern\/images\/map\/single-family-home-map-icon@2x.png"
                                    }
                                    var url = propertyMarkerInfo.icon;
                                    var size = new google.maps.Size(42, 57);

                                    // retina
                                    if (window.devicePixelRatio > 1.5) {
                                        if (propertyMarkerInfo.retinaIcon) {
                                            url = propertyMarkerInfo.retinaIcon;
                                            size = new google.maps.Size(83, 113);
                                        }
                                    }

                                    var image = {
                                        url: url,
                                        size: size,
                                        scaledSize: new google.maps.Size(42, 57),
                                        origin: new google.maps.Point(0, 0),
                                        anchor: new google.maps.Point(21, 56)
                                    };

                                    var propertyLocation = new google.maps.LatLng(propertyMarkerInfo.lat, propertyMarkerInfo.lang);
                                    var propertyMapOptions = {
                                        center: propertyLocation,
                                        zoom: 15,
                                        mapTypeId: google.maps.MapTypeId.ROADMAP,
                                        scrollwheel: false,
                                        styles: [{
                                                "featureType": "landscape",
                                                "stylers": [{
                                                        "hue": "#FFBB00"
                                                    },
                                                    {
                                                        "saturation": 43.400000000000006
                                                    },
                                                    {
                                                        "lightness": 37.599999999999994
                                                    },
                                                    {
                                                        "gamma": 1
                                                    }
                                                ]
                                            },
                                            {
                                                "featureType": "road.highway",
                                                "stylers": [{
                                                        "hue": "#FFC200"
                                                    },
                                                    {
                                                        "saturation": -61.8
                                                    },
                                                    {
                                                        "lightness": 45.599999999999994
                                                    },
                                                    {
                                                        "gamma": 1
                                                    }
                                                ]
                                            },
                                            {
                                                "featureType": "road.arterial",
                                                "stylers": [{
                                                        "hue": "#FF0300"
                                                    },
                                                    {
                                                        "saturation": -100
                                                    },
                                                    {
                                                        "lightness": 51.19999999999999
                                                    },
                                                    {
                                                        "gamma": 1
                                                    }
                                                ]
                                            },
                                            {
                                                "featureType": "road.local",
                                                "stylers": [{
                                                        "hue": "#FF0300"
                                                    },
                                                    {
                                                        "saturation": -100
                                                    },
                                                    {
                                                        "lightness": 52
                                                    },
                                                    {
                                                        "gamma": 1
                                                    }
                                                ]
                                            },
                                            {
                                                "featureType": "water",
                                                "stylers": [{
                                                        "hue": "#0078FF"
                                                    },
                                                    {
                                                        "saturation": -13.200000000000003
                                                    },
                                                    {
                                                        "lightness": 2.4000000000000057
                                                    },
                                                    {
                                                        "gamma": 1
                                                    }
                                                ]
                                            },
                                            {
                                                "featureType": "poi",
                                                "stylers": [{
                                                        "hue": "#00FF6A"
                                                    },
                                                    {
                                                        "saturation": -1.0989010989011234
                                                    },
                                                    {
                                                        "lightness": 11.200000000000017
                                                    },
                                                    {
                                                        "gamma": 1
                                                    }
                                                ]
                                            }
                                        ]
                                    };
                                    var propertyMap = new google.maps.Map(document.getElementById("property_map"), propertyMapOptions);
                                    var propertyMarker = new google.maps.Marker({
                                        position: propertyLocation,
                                        map: propertyMap,
                                        icon: image
                                    });

                                    /* Info Box */
                                    var boxText = document.createElement("div");
                                    boxText.className = 'map-info-window';
                                    var innerHTML = "";
                                    if (propertyMarkerInfo.thumb) {
                                        innerHTML += '<img class="prop-thumb" src="' + propertyMarkerInfo.thumb + '" alt="' + propertyMarkerInfo.title + '"/>';
                                    }
                                    innerHTML += '<h5 class="prop-title">' + propertyMarkerInfo.title + '</h5>';
                                    if (propertyMarkerInfo.price) {
                                        innerHTML += '<p><span class="price">' + propertyMarkerInfo.price + '</span></p>';
                                    }
                                    innerHTML += '<div class="arrow-down"></div>';
                                    boxText.innerHTML = innerHTML;

                                    var myOptions = {
                                        content: boxText,
                                        disableAutoPan: true,
                                        maxWidth: 0,
                                        alignBottom: true,
                                        pixelOffset: new google.maps.Size(-122, -48),
                                        zIndex: null,
                                        closeBoxMargin: "0 0 -16px -16px",
                                        closeBoxURL: "http://realhomes-modern.inspirythemes.biz/wp-content/themes/realhomes/assets/modern/images/map/close.png",
                                        infoBoxClearance: new google.maps.Size(1, 1),
                                        isHidden: false,
                                        pane: "floatPane",
                                        enableEventPropagation: false
                                    };

                                    var infoBox = new InfoBox(myOptions);

                                    google.maps.event.addListener(propertyMarker, 'click', function() {
                                        var scale = Math.pow(2, propertyMap.getZoom());
                                        var offsety = ((150 / scale) || 0);
                                        var projection = propertyMap.getProjection();
                                        var markerPosition = propertyMarker.getPosition();
                                        var markerScreenPosition = projection.fromLatLngToPoint(markerPosition);
                                        var pointHalfScreenAbove = new google.maps.Point(markerScreenPosition.x, markerScreenPosition.y - offsety);
                                        var aboveMarkerLatLng = projection.fromPointToLatLng(pointHalfScreenAbove);
                                        propertyMap.setCenter(aboveMarkerLatLng);
                                        infoBox.open(propertyMap, propertyMarker);
                                    });
                                }

                                window.onload = initialize_property_map();
                            </script>


                        </div>


                    </div>
                    <!-- /.rh_property__content -->



                </div>
                <!-- /.rh_property__main -->

                <div class="rh_property__sidebar">
                    <aside class="rh_sidebar">
                        <section class="widget rh_property_agent ">
                            <a class="agent-image" href="{% url 'agent:details' house.user.userprofile.slug %}">
                                <img width="210" height="210" src="{{ house.user.userprofile.avatar.url }}"
                                     class="attachment-agent-image size-agent-image wp-post-image" alt=""
                                     sizes="(max-width: 210px) 100vw, 210px"/> </a>
                            <h3 class="rh_property_agent__title">Agent {{house.user.first_name}} {{house.user.last_name}}</h3>
                            <div class="rh_property_agent__agent_info">
                                {% for item in house.user.userphone.all %}
                                <p class="contact office">
                                    {{item.phone.type}} : <span class="value">{{item.body}}</span>
                                </p>
                                {% endfor %}
                                <p class="contact email">
                                    Email : <a href="mailto:{{ house.user.email }}" class="value">{{ house.user.email }}</a>
                                </p>
                            </div>
                            <a class="rh_btn rh_btn--primary rh_property_agent__link" href="{% url 'agent:details' house.user.userprofile.slug %}">View My Listings</a>
                        </section>
                        <section id="mortgage-calculator-2" class="widget clearfix widget_mortgage-calculator">
                            <h3 class="title">Mortgage Calculator</h3>
                            <div class="mc-wrapper clearfx">
                                <form id="mc-form" action="#mc-form">
                                    <p>
                                        <label for="mc-total-amount">Total Amount</label>
                                        <input type="number" name="mc_total_amount_label" id="mc-total-amount" min="1" class="required" placeholder="$" value="{{house.price}}" />
                                    </p>
                                    <p>
                                        <label for="mc-down-payment">Down Payment</label>
                                        <input type="number" name="mc_down_payment_label" id="mc-down-payment" min="1" class="required" placeholder="$">
                                    </p>
                                    <p>
                                        <label for="mc-interest-rate">Interest %age</label>
                                        <input type="number" name="mc_interest_rate_label" id="mc-interest-rate" min="1" class="required" placeholder="%">
                                    </p>
                                    <p>
                                        <label for="mc-mortgage-period">Number of Years</label>
                                        <input type="number" name="mc_mortgage_period_label" id="mc-mortgage-period" class="required" placeholder="Years">
                                    </p>
                                    <p>
                                        <input type="submit" id="mc-submit" value="Calculate Mortgage">
                                    </p>
                                </form>

                                <!-- This div is holding output values-->
                                <div id="mc-output" class="clearfix"></div>
                            </div>

                        </section>

                    </aside>
                    <!-- /.rh_sidebar -->
                </div>
                <!-- /.rh_property__sidebar -->
            </div>
            <!-- /.rh_property__wrap -->
        </div>
        <!-- /.rh_property -->

    </div>
    <!-- /.rh_page -->
</section>
{% endblock %}
